# =============================================================================
# mosquitto.conf - Configuraci칩n de Mosquitto MQTT para App-Turnos
# =============================================================================
#
# Este archivo configura SOLO los listeners adicionales para la app.
# Se coloca en /etc/mosquitto/conf.d/app-turnos.conf
#
# NOTA: No duplicar configuraciones que ya existen en mosquitto.conf principal
# (persistence, logging, etc.)
# =============================================================================

# =============================================================================
# IMPORTANTE: Permitir conexiones an칩nimas (DEBE ir ANTES de los listeners)
# =============================================================================
# En Mosquitto 2.0+ el valor por defecto es false, causando error:
# "Connection refused: Not authorized"
allow_anonymous true

# =============================================================================
# Listeners
# =============================================================================

# Listener TCP est치ndar para clientes MQTT (solo localhost - m치s seguro)
listener 1883 127.0.0.1
protocol mqtt

# Listener WebSocket para navegadores (accesible via Caddy proxy /mqtt-ws)
listener 9001
protocol websockets
